<main class="container mb-5">

    <div class="row mb-3">

        <div class="col-md-12 text-center mt-5">
            <h1>Manage Account</h1>
            <hr class="mt-3">

        </div>
    </div>

    <div class="row">

        <div class="col-md-4 text-center profile-img">
            <h3>{{this.userData.firstName}} {{this.userData.middleName}} {{this.userData.lastName}}</h3>
        
            <img src="{{this.userData.profilePicture}}" class="img-fluid" alt="I am a profile picture">
            <div class="row">

                <div class="col-md-12 text-left mt-5">

                    <p>
                        <i class="fa fa-book" aria-hidden="true"></i>
                        <span>{{this.userData.id}}</span>
                    </p>
                    <p>
                        <i class="fa fa-envelope-o" aria-hidden="true"></i>
                        <span>{{this.userData.emailAddress}}</span>
                    </p>
                    

                </div>
            </div>
        </div>
        <div class="col-md-8 border-lv">
            <ul class="nav nav-tabs">
                <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#myBooks">My Reservations</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#history">Check-Out History</a>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane fade show active" id="myBooks">
                    {{#each reservations}}
                    <article class="card mt-3">
                        <div class="card-body row">
                            <div class="col-md-11">
                                <h4 class="card-title">{{this.Medium.title}}</h4>
                                <h6 class="card-subtitle mb-2 text-muted">by
                                    <span>
                                        <a href="#">{{this.Medium.author}}</a>
                                    </span>
                                </h6>
                                <p>
                                    <b class="text-uppercase">Status: </b>
                                    <span class="alert">
                                        <i> {{this.reservationStatus}}</i>
                                    </span>
                                </p>
                                <button class="btn btn-success text-uppercase action-btn-check-out-media" type="button" data-medium-id="{{this.Medium.id}}"
                                    data-user-id="{{../userData.id}}">
                                    Check-Out
                                </button>
                                <button class="btn btn-danger text-uppercase action-btn-cancel-media" type="button" data-medium-id="{{this.Medium.id}}" data-user-id="{{../userData.id}}">
                                    Cancel
                                </button>


                            </div>
                        </div>
                        <hr>
                    </article>
                    {{/each}}
                </div>

                <div class="tab-pane fade" id="history">
                    {{#each checkOutHistories}}
                    <article class="card mt-3">
                        <div class="card-body row">
                            <div class="col-md-11">
                                <h4 class="card-title">{{this.Medium.title}}</h4>
                                <h6 class="card-subtitle mb-2 text-muted">by
                                    <span>
                                        <a href="#">{{this.Medium.author}}</a>
                                    </span>
                                </h6>
                                <p>
                                    <b class="text-uppercase">Status: </b>
                                    <span class="alert returnBy {{#unless this.isCheckedOut}} hide {{/unless}}">
                                        <i> Return in 14 days after {{this.createdAt}}  </i>
                                    </span>
                                    <span class="alert returnOn {{#if this.isCheckedOut}} hide {{/if}}">
                                        <i> Returned</i>
                                    </span>
                                </p>
                                {{#if this.isCheckedOut}}
                                <button class="btn btn-success text-uppercase action-btn-check-in-media" type="button" data-medium-id="{{this.Medium.id}}"
                                    data-user-id="{{../userData.id}}">
                                    Check-In
                                </button>{{/if}}

                            </div>

                        </div>
                        <hr>
                    </article>
                    {{/each}}
                </div>
            </div>
        </div>
    </div>
</main>